<div class="slds-form-element">
	<label class="slds-form-element__label" for="lookup">{{objectPluralLabel}}</label>
	<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
		<svg aria-hidden="true" class="slds-input__icon">
			<use xlink:href="{{unbound assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#search"></use>
		</svg>

		{{#if selectedResult}}
			<div class="slds-pill-container slds-show">
				<span class="slds-pill slds-pill--bare">
					<a href="#" class="slds-pill__label" {{action "clickRemoveSelection" selectedResult}}>
						<svg aria-hidden="true" class="slds-icon slds-icon-standard-account slds-icon--small">
							<use xlink:href="{{unbound assetsLocation}}/assets/icons/standard-sprite/svg/symbols.svg#account"></use>
						</svg>{{selectedResult.label}}
					</a>
					<button class="slds-button slds-button--icon-bare" {{action "clickRemoveSelection" selectedResult}}>
						<svg aria-hidden="true" class="slds-button__icon">
							<use xlink:href="{{unbound assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
						</svg>
						<span class="slds-assistive-text">Remove</span>
					</button>
				</span>
			</div>
		{{else}}
			{{aljs-lookup-input class="slds-input" type="text" aria-autocomplete="list" role="combobox" aria-expanded=isExpanded aria-activedescendant=focusedSearchResult value=searchTerm}}
		{{/if}}
	</div>
	{{#if selectedResults}}
		<div class="slds-pill-container">
			{{#each selectedResult in selectedResults}}
				<span class="slds-pill">
					<a href="#" class="slds-pill__label" {{action "clickRemoveSelection" selectedResult}}>
						<svg aria-hidden="true" class="slds-icon slds-icon-standard-account slds-icon--small">
							<use xlink:href="{{unbound assetsLocation}}/assets/icons/standard-sprite/svg/symbols.svg#account"></use>
						</svg>{{selectedResult.label}}</a>
					<button class="slds-button slds-button--icon-bare" {{action "clickRemoveSelection" selectedResult}}>
						<svg aria-hidden="true" class="slds-button__icon">
							<use xlink:href="{{unbound assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
						</svg>
						<span class="slds-assistive-text">Remove</span>
					</button>
				</span>
			{{/each}}
		</div>
	{{/if}}
</div>
{{#if searchResults}}
	<div class="slds-lookup__menu" role="listbox">
		{{#if showUse}}
			<div class="slds-lookup__item">
				<button class="slds-button">
					<svg aria-hidden="true" class="slds-icon slds-icon-text-default slds-icon--small">
						<use xlink:href="{{unbound assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#search"></use>
					</svg>&quot;{{searchTerm}}&quot; in {{objectPluralLabel}}</button>
			</div>
		{{/if}}
		<ul class="slds-lookup__list" role="presentation">
			{{#each result in searchResults}}
				<li class="slds-lookup__item" {{action "clickResult" result}}>
					<a {{bind-attr id="result.id"}} href="javascript:void(0)" role="option">
						<svg aria-hidden="true" class="slds-icon slds-icon-standard-account slds-icon--small">
							<use xlink:href="{{unbound assetsLocation}}/assets/icons/standard-sprite/svg/symbols.svg#account"></use>
						</svg>{{result.label}}</a>
				</li>
			{{/each}}
		</ul>
		{{#if canAdd}}
			<div class="slds-lookup__item">
				<button class="slds-button">
					<svg aria-hidden="true" class="slds-icon slds-icon-text-default slds-icon--small">
						<use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#add"></use>
					</svg>Add {{objectLabel}}</button>
			</div>
		{{/if}}
	</div>
{{/if}}